<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Input</title>
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="./dist/output.css" />
</head>
<body>
        <!--NavBar-->
        <nav class="bg-lisa">
            <div class="px-10 mx-auto">
              <div class="flex justify-between">
                <div>
                  <a href="#" class="flex items-center py-4 px-3"
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-6 h-6 mr-2 text-jennie"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"
                      />
                    </svg>
                    <span>Flotto</span>
                  </a>
                </div>
                <div class="flex items-center space-x-3">
                  <a href="http://localhost:3000/#map" class="py-4 px-3">Map</a>
                  <a href="http://localhost:3000/#table" class="py-4 px-3">Numbers</a>
                  <a href="http://localhost:3000/userForm">Test Chances</a>
                </div>
              </div>
            </div>
          </nav>

           <!--Landing Page-->
    <div
    class="h-screen py-20 bg-jisoo flex items-center justify-center flex-col gap-4 text-center relative"
  >
    <h1 class="text-6xl font-bold py-3 text-white">Flotto</h1>
    <div py-6 px-6>
      <h3 class="text-center text-white"><i>I came here to drop some money, dropping all my money</i></h3>
      <h3 class="text-center text-white"><i>Drop some money, all this bread so yummy, yeah</i></h3>
    </div>
    <button
      class="bg-jennie hover:bg-white text-white hover:text-jennie font-bold py-2 px-4 rounded-full"
    >
      <a href="#chance">View Chance</a>
    </button>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="animate-bounce w-12 h-12 bg-white rounded-full shadow p-2 absolute bottom-20"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"
      />
    </svg>
  </div>

  <div id = "chance">
    <h1>Lottery Winning Chance Calculator</h1>
    <p>Enter your desired numbers:</p>

    <!-- Input Form -->
    <form id="lotteryForm">
        <label for="numbers">Numbers (comma-separated):</label>
        <input type="text" id="numbers" name="numbers" required>
        <button type="submit">Calculate Winning Chance</button>
    </form>

    <!-- Display Winning Chance Result -->
    <div id="result"></div>
  </div>

    <script>
        // JavaScript code for handling form submission and displaying results
        document.querySelector('#lotteryForm').addEventListener('submit', function (e) {
            e.preventDefault();

            // Get user input (selected numbers)
            const selectedNumbers = document.querySelector('#numbers').value;

            // Make an API request to calculate winning chance
            fetch('/calculateWinningChance', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ selectedNumbers }),
            })
                .then((response) => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then((data) => {
                    // Display the winning chance result on the webpage
                    document.querySelector('#result').textContent = `All Six: ${data.chance[0]}%`;
                })
                .catch((error) => {
                    // Handle errors and display error messages to the user
                    console.error('Error:', error);
                });
        });
    </script>
</body>
</html>
